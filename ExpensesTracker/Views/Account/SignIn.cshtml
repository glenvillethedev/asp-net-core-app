@{
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
    ViewBag.Title = "ExpensesTracker - Sign In";
}

<div class="container d-flex justify-content-center align-items-center mt-4">
    <div class="card shadow p-4" style="width: 100%; max-width: 500px;">
        <h2 class="text-center mb-4">Sign In</h2>
        <form asp-controller="Account" asp-action="SignIn" asp-route-ReturnUrl="@Context.Request.Query["ReturnUrl"]" method="post">
            <div class="mb-3">
                <i class="fa-solid fa-envelope fa-xs"></i><label for="email" class="form-label">Email Address</label>
                <input type="email" class="form-control" id="email" name="username" placeholder="Enter email" required autofocus value="@(ViewBag.SignInModel?.Username)">
            </div>

            <div class="mb-3">
                <i class="fa-solid fa-lock fa-xs"></i><label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Enter password" required value="@(ViewBag.SignInModel?.Password)">
            </div>

            <div class="d-flex justify-content-between align-items-center">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rememberMe" name="ispersistent" value="true"  @(ViewBag.SignInModel?.IsPersistent ? "checked" : null)>
                    <label class="form-check-label" for="rememberMe">Remember me</label>
                </div>
                @* <a href="#" class="text-decoration-none">Forgot password?</a> TODO: Account Confirmation & Password Recovery Feature *@ 
            </div>

            @if (ViewBag.ErrorList != null)
            {
                <div id="errorBox" class="alert alert-danger p-2 mt-3" role="alert">
                    <ul class="my-1" style="list-style-type:none;padding-left:10px;">
                        @foreach (string error in ViewBag.ErrorList)
                        {
                            <li><i class="fa-solid fa-circle-xmark fa-xs"></i>@error</li>
                        }
                    </ul>
                </div>
            }

            <div class="d-flex justify-content-center gap-3 mt-3">
                <button type="submit" class="btn btn-primary"><i class="fa-solid fa-right-to-bracket fa-xs"></i>Sign In</button>
            </div>

            <p class="text-center mt-3">
                Don't have an account? <a asp-controller="Account" asp-action="Register">Register</a>
            </p>
        </form>
    </div>
</div>